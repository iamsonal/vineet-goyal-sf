#%RAML 1.0 Overlay
extends: ./api.raml

uses:
  luvio: luvio://annotations.raml

(luvio.keyPrefix): 'LEAP::'
(luvio.ttl): 2592000000

types:
  LightningAssistantRepresentation:
    (luvio.key):
      assistant_group_id: assistantGroup
      scenario_id: scenario

  LightningAssistantQuestionnaireRepresentation:
    (luvio.key):
      assistant_group_id: assistantGroup
      questionnaire_id: id

  LightningAssistantQuestionnaireListRepresentation:
    (luvio.key):
      scenario_id: scenario

  LightningAssistantScenarioListRepresentation:
    (luvio.key):
      assistant_group_id: assistantGroup

/guidance/assistant/{assistantGroup}:
  get:
    (luvio.adapter):
      name: getAssistant
    (luvio.key):
      assistant_group_id: urlParams.assistantGroup
      scenario_id: queryParams.scenarioId
  patch:
    (luvio.adapter):
      name: saveAssistant
  /questionnaire/{questionnaireId}:
    get:
      (luvio.adapter):
        name: getQuestionnaire
      (luvio.key):
        assistant_group_id: urlParams.assistantGroup
        questionnaire_id: urlParams.questionnaireId
    patch:
      (luvio.adapter):
        name: saveQuestionnaire
  /questionnaires:
    get:
      (luvio.adapter):
        name: getQuestionnaires
      (luvio.key):
        scenario_id: queryParams.scenarioId
  /scenarios:
    get:
      (luvio.adapter):
        name: getScenarios
      (luvio.key):
        assistant_group_id: urlParams.assistantGroup
    patch:
      (luvio.adapter):
        name: updateScenarios
